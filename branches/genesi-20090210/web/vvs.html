<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>GlobModel Visualization and Validation Service</title>

        <!-- Resets the browser's CSS definitions. This should reduce the
             problem of fonts appearing differently in different browsers. -->
        <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.2/build/reset-fonts-grids/reset-fonts-grids.css">

        <link rel="stylesheet" type="text/css" href="css/vvs.css">

        <script type="text/javascript" src="js/OpenLayers-2.7.js"></script>
        <script type="text/javascript" src="js/LoadingPanel.js"></script>
        <script type="text/javascript" src="js/WMS1_1_1.js"></script>
        <script type="text/javascript" src="js/WMS1_3.js"></script>

        <!-- For the pop-up panel (used in the palette selector) -->
        <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.2/build/container/assets/skins/sam/container.css">
        <script type="text/javascript" src="http://yui.yahooapis.com/2.5.2/build/yahoo-dom-event/yahoo-dom-event.js"></script>
        <script type="text/javascript" src="http://yui.yahooapis.com/2.5.2/build/dragdrop/dragdrop-min.js"></script>
        <script type="text/javascript" src="http://yui.yahooapis.com/2.5.2/build/container/container-min.js"></script>

        <!-- Prototype is used only for Ajax requests in server.js - can we refactor
             to remove this dependency? -->
        <script type="text/javascript" src="js/prototype-1.5.1.1.js"></script>
        <script type="text/javascript" src="js/server.js"></script>
        <script type="text/javascript" src="js/vvs.js"></script>
    </head>

    <body class="yui-skin-sam">

    <div id="mainPanel">
        <div id="panelHeader">
            <table border="1">
                <thead>
                    <tr><th>Layer</th><th>Visibility</th><th>Time</th><th>Opacity</th></tr>
                </thead>
                <tbody>
                    <tr><td>Coastlines:</td><td align="center"><input type="checkbox" checked="checked" onclick="javascript:setLayerVisibility('Coastlines', this.checked)"/></td><td colspan="2"></td></tr>
                    <tr>
                        <td>Sciamachy:</td>
                        <td align="center"><input type="checkbox" onclick="javascript:setLayerVisibility('SCIAMACHY', this.checked)"/></td>
                        <td>
                            +/-
                            <select id="sciaWindow" onchange="javascript:updateDates()">
                                <option value="30">Half an hour</option>
                                <option value="60">One hour</option>
                                <option value="120">Two hours</option>
                            </select>
                            of GlobModel data
                        </td>
                        <td>
                            <select onchange="javascript:setLayerOpacity('SCIAMACHY', this.value)">
                                <option value="1" selected="selected">100%</option>
                                <option value="0.75">75%</option>
                                <option value="0.5">50%</option>
                                <option value="0.25">25%</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>GlobModel:</td>
                        <td align="center"><input type="checkbox" checked="checked" onclick="javascript:setLayerVisibility('GlobModel', this.checked)"/></td>
                        <td>
                            August
                            <select id="globModelDay" onchange="javascript:updateDates()">
                                <option value="20">20</option>
                                <option value="21">21</option>
                                <option value="22">22</option>
                                <option value="23">23</option>
                                <option value="24">24</option>
                                <option value="25">25</option>
                                <option value="26">26</option>
                                <option value="27">27</option>
                                <option value="28">28</option>
                                <option value="29">29</option>
                                <option value="30">30</option>
                                <option value="31">31</option>
                            </select>
                            2006
                            <select id="globModelHour" onchange="javascript:updateDates()">
                                <option value="0">00:00</option>
                                <option value="6">06:00</option>
                                <option value="12">12:00</option>
                                <option value="18">18:00</option>
                            </select>
                        </td>
                        <td>
                            <select onchange="javascript:setLayerOpacity('GlobModel', this.value)">
                                <option value="1" selected="selected">100%</option>
                                <option value="0.75">75%</option>
                                <option value="0.5">50%</option>
                                <option value="0.25">25%</option>
                            </select>
                        </td>
                    </tr>
                    <tr><td>Topography:</td><td align="center"><input type="checkbox" onclick="javascript:setLayerVisibility('Demis WMS', this.checked)"/></td><td colspan="2"></td></tr>
                </tbody>
            </table>
        </div>

        <div id="mapPanel">
            <div id="map"></div>
            <img id="scaleBar" class="scaleBar" width="40" height="398" src="wms?REQUEST=GetLegendGraphic&COLORBARONLY=true&WIDTH=1&HEIGHT=398" alt="scale bar" title="Click to change the colour palette" onclick="javascript:showPaletteSelector();"/>
            <div class="scaleMarkers">
                <input id="scaleMax" class="scaleMax" type="text" size="11" onblur="javascript:validateScale()"/>
                <span id="scaleTwoThirds"></span>
                <span id="scaleOneThird"></span>
                <input id="scaleMin" class="scaleMin" type="text" size="11" onblur="javascript:validateScale()"/>
            </div>
        </div>
    </div>

    <!-- The palette selection pop-up window.  Initially invisible. -->
    <div id="paletteSelector" style="visibility: hidden">
        <div class="hd">Click to choose a colour palette</div>
        <div class="bd">
            <p>Number of colour bands:&nbsp;
                <select id="numColorBands" onchange="javascript:updatePaletteSelector()">
                    <option value="10">10</option>
                    <option value="20">20</option>
                    <option value="50">50</option>
                    <option value="254" selected>254</option>
                </select>
            </p>
            <!-- This is where the table of palette images will go -->
            <div id="paletteDiv"></div>
        </div>
    </div>

    </body>
</html>
